{% extends "base.html" %}

{% block head %}
<style>
  [card-options] {
    display: none;
    cursor: pointer;
    width: 10.5rem;
    height: 8rem;
    /* background-color: #ffffff; */
    box-shadow: 0px 1px 3px 2px rgba(0, 0, 0, 0.10);
    & + [card-options] {
      margin-left: 1.2rem;
    }

    & + div[todos_acessos] {
      margin-left: 1.2rem;
    }
    & > span {
      text-align: center;
      line-height: 1rem;
    }
  }

  [todos_acessos], [visitant], [cliente], [funcionario], [gerente] {
    display: none;
  }

</style>
{% endblock %}

{% block content %}
  <section class="flex flex-col min-h-full min-w-full">

    <header todos_acessos class="w-full py-2 bg-[#FFE7D3]">
      <div class="flex max-w-6xl my-0 mx-auto px-8 items-center justify-between">

        <div class="flex items-center">
          <div class="flex items-center justify-center w-12 h-12 rounded-full bg-[#FFCA9D]">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M12 0.5C18.3514 0.5 23.5 5.64855 23.5 12C23.504 14.6541 22.5862 17.2272 20.9033 19.2795L20.9263 19.3048L20.7745 19.4336C19.6961 20.7092 18.3521 21.734 16.8366 22.4363C15.321 23.1387 13.6704 23.5017 12 23.5C8.6075 23.5 5.56001 22.0314 3.45551 19.6969L3.22551 19.4324L3.07371 19.3059L3.09671 19.2783C1.41398 17.2264 0.496127 14.6537 0.500012 12C0.500012 5.64855 5.64856 0.5 12 0.5ZM12 17.75C9.861 17.75 7.92785 18.4308 6.48805 19.3657C8.07769 20.559 10.0123 21.2028 12 21.2C13.9877 21.2028 15.9223 20.559 17.5119 19.3657C15.8666 18.3119 13.9539 17.7512 12 17.75ZM12 2.8C10.2687 2.79995 8.57253 3.28842 7.10643 4.20927C5.64034 5.13011 4.46383 6.44596 3.71214 8.00555C2.96045 9.56515 2.66408 11.3052 2.85711 13.0257C3.05013 14.7462 3.72471 16.3773 4.80331 17.7316C6.66746 16.3941 9.21125 15.45 12 15.45C14.7887 15.45 17.3325 16.3941 19.1967 17.7316C20.2753 16.3773 20.9499 14.7462 21.1429 13.0257C21.3359 11.3052 21.0395 9.56515 20.2879 8.00555C19.5362 6.44596 18.3597 5.13011 16.8936 4.20927C15.4275 3.28842 13.7313 2.79995 12 2.8ZM12 5.1C13.22 5.1 14.39 5.58464 15.2527 6.44731C16.1154 7.30997 16.6 8.48 16.6 9.7C16.6 10.92 16.1154 12.09 15.2527 12.9527C14.39 13.8154 13.22 14.3 12 14.3C10.78 14.3 9.60998 13.8154 8.74731 12.9527C7.88464 12.09 7.4 10.92 7.4 9.7C7.4 8.48 7.88464 7.30997 8.74731 6.44731C9.60998 5.58464 10.78 5.1 12 5.1ZM12 7.4C11.39 7.4 10.805 7.64232 10.3737 8.07365C9.94232 8.50499 9.7 9.09 9.7 9.7C9.7 10.31 9.94232 10.895 10.3737 11.3263C10.805 11.7577 11.39 12 12 12C12.61 12 13.195 11.7577 13.6263 11.3263C14.0577 10.895 14.3 10.31 14.3 9.7C14.3 9.09 14.0577 8.50499 13.6263 8.07365C13.195 7.64232 12.61 7.4 12 7.4Z" fill="#417453"/>
            </svg>
          </div>
          <p nome_usuario class="ml-2 text-[#444444]">Usuário</p>
        </div>
        
        <div class="flex items-center">
          <svg width="24" height="24" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="9" cy="9" r="9" fill="#417453"/>
            <path d="M5.16875 12.8313C5.06563 12.7281 5.01406 12.5969 5.01406 12.4375C5.01406 12.2781 5.06563 12.1469 5.16875 12.0437L5.94219 11.2703C5.64219 10.8859 5.41006 10.4594 5.24581 9.99062C5.08156 9.52187 4.99963 9.025 5 8.5C5 7.24375 5.43594 6.17969 6.30781 5.30781C7.17969 4.43594 8.24375 4 9.5 4H14V8.5C14 9.75625 13.5641 10.8203 12.6922 11.6922C11.8203 12.5641 10.7563 13 9.5 13C8.975 13 8.48038 12.9179 8.01613 12.7536C7.55188 12.5894 7.12775 12.3574 6.74375 12.0578L5.95625 12.8313C5.85313 12.9344 5.72188 12.9859 5.5625 12.9859C5.40313 12.9859 5.27188 12.9344 5.16875 12.8313ZM7.44688 10.5531C7.55 10.675 7.68125 10.7337 7.84063 10.7292C8 10.7247 8.13594 10.666 8.24844 10.5531L10.4563 8.34531C10.5688 8.23281 10.625 8.09931 10.625 7.94481C10.625 7.79031 10.5688 7.65663 10.4563 7.54375C10.3531 7.44063 10.2219 7.38906 10.0625 7.38906C9.90313 7.38906 9.77188 7.44063 9.66875 7.54375L7.44688 9.76562C7.34375 9.86875 7.29219 9.99775 7.29219 10.1526C7.29219 10.3075 7.34375 10.441 7.44688 10.5531Z" fill="white"/>
          </svg>
          
          <p creditos_usuario class="ml-2 text-[#417453]">?? Ecoins</p>
        </div>
      </div>
    </header>
  
    <div class="flex flex-1 min-h-full min-w-full items-center justify-center">
      <div class="flex flex-col items-center justify-center">
        <img class="mx-auto h-[5rem] w-auto mb-2" src="{{ url_for('static', filename='assets/favicon.png') }}"
      alt="Convenience Swap">
      <h1 visitant class="text-[1.5rem] text-[#417453] font-semiBold">Seja Bem vindo ao Convenience Swap</h1>
        <h1 cliente cliente_usuario class="text-[1.5rem] text-[#417453] font-semiBold">Título</h1>
        <h1 funcionario funcionario_usuario class="text-[1.5rem] text-[#417453] font-semiBold">Título</h1>
        <h1 gerente gerente_usuario class="text-[1.5rem] text-[#417453] font-semiBold">Título</h1>
        
        <p visitant class="text-[1.2rem] text-[#7A7A7A] font-regular mt-2">Escolha uma das opções abaixo para continuar</p>
        <p todos_acessos class="text-[1.2rem] text-[#7A7A7A] font-regular mt-2">Qual môdulo você deseja acessar?</p>

        <div class="flex justify-center items-center mt-8">
  
          <div card-options cliente onclick="navigateToItensCadastrados()" class="flex flex-col items-center justify-center rounded-lg py-6 px-7 bg-white hover:bg-[#EEEEEE]">
            <svg width="34" height="32" viewBox="0 0 34 32" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M21.1335 0.5C20.5853 0.5 20.0597 0.717737 19.6721 1.10531C19.2845 1.49289 19.0668 2.01855 19.0668 2.56667V6.7C19.0668 7.24811 19.2845 7.77378 19.6721 8.16135C20.0597 8.54893 20.5853 8.76667 21.1335 8.76667H27.3335C27.8816 8.76667 28.4072 8.54893 28.7948 8.16135C29.1824 7.77378 29.4001 7.24811 29.4001 6.7V2.56667C29.4001 2.01855 29.1824 1.49289 28.7948 1.10531C28.4072 0.717737 27.8816 0.5 27.3335 0.5H21.1335ZM25.2668 11.8667C25.2668 11.5926 25.1579 11.3298 24.9641 11.136C24.7704 10.9422 24.5075 10.8333 24.2335 10.8333C23.9594 10.8333 23.6966 10.9422 23.5028 11.136C23.309 11.3298 23.2001 11.5926 23.2001 11.8667V23.8389L20.8317 21.4684C20.6377 21.2744 20.3745 21.1654 20.1001 21.1654C19.8257 21.1654 19.5626 21.2744 19.3685 21.4684C19.1745 21.6624 19.0655 21.9256 19.0655 22.2C19.0655 22.4744 19.1745 22.7376 19.3685 22.9316L23.5019 27.0649C23.5979 27.1612 23.7119 27.2375 23.8374 27.2896C23.963 27.3417 24.0975 27.3685 24.2335 27.3685C24.3694 27.3685 24.504 27.3417 24.6295 27.2896C24.755 27.2375 24.8691 27.1612 24.9651 27.0649L29.0984 22.9316C29.2924 22.7376 29.4014 22.4744 29.4014 22.2C29.4014 21.9256 29.2924 21.6624 29.0984 21.4684C28.9044 21.2744 28.6412 21.1654 28.3668 21.1654C28.0924 21.1654 27.8292 21.2744 27.6352 21.4684L25.2668 23.8389V11.8667ZM6.6668 19.1C6.11868 19.1 5.59302 19.3177 5.20544 19.7053C4.81787 20.0929 4.60013 20.6186 4.60013 21.1667V25.3C4.60013 25.8481 4.81787 26.3738 5.20544 26.7614C5.59302 27.1489 6.11868 27.3667 6.6668 27.3667H12.8668C13.4149 27.3667 13.9406 27.1489 14.3281 26.7614C14.7157 26.3738 14.9335 25.8481 14.9335 25.3V21.1667C14.9335 20.6186 14.7157 20.0929 14.3281 19.7053C13.9406 19.3177 13.4149 19.1 12.8668 19.1H6.6668ZM2.53346 24.2667C2.53346 23.9926 2.42459 23.7298 2.23081 23.536C2.03702 23.3422 1.77419 23.2333 1.50013 23.2333C1.22607 23.2333 0.963241 23.3422 0.769453 23.536C0.575666 23.7298 0.466797 23.9926 0.466797 24.2667V27.3667C0.466797 28.4629 0.902272 29.5142 1.67742 30.2894C2.45257 31.0645 3.5039 31.5 4.60013 31.5H29.4001C30.4964 31.5 31.5477 31.0645 32.3228 30.2894C33.098 29.5142 33.5335 28.4629 33.5335 27.3667V24.2667C33.5335 23.9926 33.4246 23.7298 33.2308 23.536C33.037 23.3422 32.7742 23.2333 32.5001 23.2333C32.2261 23.2333 31.9632 23.3422 31.7695 23.536C31.5757 23.7298 31.4668 23.9926 31.4668 24.2667V27.3667C31.4668 27.9148 31.2491 28.4404 30.8615 28.828C30.4739 29.2156 29.9482 29.4333 29.4001 29.4333H4.60013C4.05202 29.4333 3.52635 29.2156 3.13878 28.828C2.7512 28.4404 2.53346 27.9148 2.53346 27.3667V24.2667Z" fill="#444444"/>
            </svg>
            <span class="text-[#444444] mt-4 text-[1rem]">Cadastrar item</span>
          </div>

          <div card-options funcionario onclick="window.location.replace('/avaliacao_itens')" class="flex flex-col items-center justify-center rounded-lg py-6 px-7 bg-white hover:bg-[#EEEEEE]">
            <div class="w-20 h-9">
              <svg width="66" height="32" viewBox="0 0 66 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M38.5371 27.8359H46.2871V29.7734H36.5996V0.710938H63.7246V16.2109H61.7871V8.46094H38.5371V27.8359ZM38.5371 6.52344H61.7871V2.64844H38.5371V6.52344ZM65.6621 18.1484V31.7109H48.2246V18.1484H50.1621V29.7734H63.7246V18.1484H65.6621ZM59.8496 25.8984H61.7871V27.8359H59.8496V25.8984ZM61.7871 23.9609H59.8496V22.0234H61.7871V23.9609ZM61.7871 20.0859H59.8496V18.1484H61.7871V20.0859ZM55.9746 25.8984H57.9121V27.8359H55.9746V25.8984ZM57.9121 23.9609H55.9746V22.0234H57.9121V23.9609ZM52.0996 27.8359V25.8984H54.0371V27.8359H52.0996Z" fill="#444444"/>
                <g clip-path="url(#clip0_129_164)">
                <path d="M15.8379 31.2891C24.3983 31.2891 31.3379 24.3495 31.3379 15.7891C31.3379 7.22865 24.3983 0.289062 15.8379 0.289062C7.27748 0.289062 0.337891 7.22865 0.337891 15.7891C0.337891 24.3495 7.27748 31.2891 15.8379 31.2891Z" fill="#444444"/>
                <path d="M9.23985 22.3874C9.06225 22.2097 8.97344 21.9838 8.97344 21.7092C8.97344 21.4347 9.06225 21.2088 9.23985 21.031L10.5719 19.6991C10.0552 19.037 9.65544 18.3025 9.37256 17.4952C9.08969 16.6879 8.94858 15.8321 8.94922 14.928C8.94922 12.7644 9.70001 10.9319 11.2016 9.43032C12.7031 7.92876 14.5357 7.17798 16.6992 7.17798H24.4492V14.928C24.4492 17.0915 23.6985 18.9241 22.1969 20.4257C20.6953 21.9273 18.8628 22.678 16.6992 22.678C15.7951 22.678 14.9432 22.5366 14.1437 22.2536C13.3441 21.9708 12.6137 21.5713 11.9523 21.0553L10.5961 22.3874C10.4185 22.565 10.1925 22.6537 9.91797 22.6537C9.6435 22.6537 9.41746 22.565 9.23985 22.3874ZM13.1633 18.4639C13.3409 18.6738 13.5669 18.7749 13.8414 18.7672C14.1159 18.7594 14.35 18.6583 14.5438 18.4639L18.3462 14.6616C18.5399 14.4678 18.6367 14.2379 18.6367 13.9718C18.6367 13.7057 18.5399 13.4755 18.3462 13.2811C18.1684 13.1035 17.9425 13.0147 17.668 13.0147C17.3935 13.0147 17.1675 13.1035 16.9898 13.2811L13.1633 17.1077C12.9857 17.2853 12.8969 17.5074 12.8969 17.7741C12.8969 18.0409 12.9857 18.2708 13.1633 18.4639Z" fill="white"/>
                </g>
                <defs>
                <clipPath id="clip0_129_164">
                <rect width="31" height="31" fill="white" transform="translate(0.337891 0.289062)"/>
                </clipPath>
                </defs>
                </svg>
            </div>
            <span class="text-[#444444] mt-4 text-[1rem]">Avaliação de Itens + Gestão de Créditos</span>
          </div>

          <div card-options funcionario class="flex flex-col items-center justify-center rounded-lg py-6 px-7 bg-white hover:bg-[#EEEEEE]">
            <div class="w-20 h-9 flex items-center justify-center">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M20.8841 0.5L31.6296 5.87272V17.8545L29.6759 16.8776V8.05539L21.861 11.9628V15.9008L19.9073 16.8776V11.9628L12.0924 8.05539V11.5202L10.1387 10.5433V5.87272L20.8841 0.5ZM20.8841 10.2686L23.5858 8.91014L16.5188 4.86534L13.2982 6.48326L20.8841 10.2686ZM25.6921 7.87223L28.4701 6.48326L20.8841 2.68267L18.6099 3.82742L25.6921 7.87223ZM17.9536 17.8545L15.9999 18.8314V18.8161L10.1387 21.7467V28.6915L15.9999 25.7457V27.9436L9.16185 31.3626L0.370117 26.9515V16.6334L9.16185 12.2376L17.9536 16.6334V17.8545ZM8.18499 28.6915V21.7467L2.32383 18.8161V25.7457L8.18499 28.6915ZM9.16185 20.0524L14.794 17.244L9.16185 14.4202L3.52964 17.244L9.16185 20.0524ZM17.9536 20.0372L24.7916 16.6182L31.6296 20.0372V28.081L24.7916 31.5L17.9536 28.081V20.0372ZM23.8147 28.8289V24.1736L19.9073 22.2198V26.8752L23.8147 28.8289ZM29.6759 26.8752V22.2198L25.7684 24.1736V28.8289L29.6759 26.8752ZM24.7916 22.4793L28.4701 20.6324L24.7916 18.8008L21.1131 20.6324L24.7916 22.4793Z" fill="#444444"/>
              </svg>
            </div>
            <span class="text-[#444444] mt-4 text-[1rem]">Gestão de Estoque de Produtos</span>
          </div>

          <!-- VISITANTE -->
          <div card-options visitant cliente class="flex flex-col items-center justify-center rounded-lg py-6 px-7 bg-white hover:bg-[#EEEEEE]">
            <svg width="29" height="31" viewBox="0 0 29 31" fill="red" xmlns="http://www.w3.org/2000/svg">
              <path d="M18.8214 19.9286V22.1429H21.0357V19.9286H18.8214ZM5.952 0.243571L0.416286 4.67214C0.0487142 4.96443 0 5.46929 0 5.91214V9.96428C0 11.2109 0.411857 12.3601 1.10714 13.2857V29.8929C1.10714 30.1865 1.22379 30.4681 1.43142 30.6757C1.63905 30.8834 1.92065 31 2.21429 31H5.53571V18.8214C5.53571 18.5278 5.65236 18.2462 5.85999 18.0386C6.06762 17.8309 6.34923 17.7143 6.64286 17.7143H13.2857C13.5793 17.7143 13.861 17.8309 14.0686 18.0386C14.2762 18.2462 14.3929 18.5278 14.3929 18.8214V31H26.5714C26.8651 31 27.1467 30.8834 27.3543 30.6757C27.5619 30.4681 27.6786 30.1865 27.6786 29.8929V13.2857C28.3739 12.3601 28.7857 11.2109 28.7857 9.96428V5.90329C28.7857 5.46043 28.737 4.96443 28.3694 4.67214L22.8337 0.243571C22.6377 0.0863422 22.3941 0.000447605 22.1429 0H6.64286C6.39161 0.000447605 6.14798 0.0863422 5.952 0.243571ZM2.21429 9.96428V6.64286H8.85714V9.96428C8.85714 10.8452 8.50721 11.69 7.88432 12.3129C7.26143 12.9358 6.41661 13.2857 5.53571 13.2857C4.65482 13.2857 3.81 12.9358 3.18711 12.3129C2.56422 11.69 2.21429 10.8452 2.21429 9.96428ZM11.0714 9.96428V6.64286H17.7143V9.96428C17.7143 10.8452 17.3644 11.69 16.7415 12.3129C16.1186 12.9358 15.2738 13.2857 14.3929 13.2857C13.512 13.2857 12.6671 12.9358 12.0443 12.3129C11.4214 11.69 11.0714 10.8452 11.0714 9.96428ZM19.9286 9.96428V6.64286H26.5714V9.96428C26.5714 10.8452 26.2215 11.69 25.5986 12.3129C24.9757 12.9358 24.1309 13.2857 23.25 13.2857C22.3691 13.2857 21.5243 12.9358 20.9014 12.3129C20.2785 11.69 19.9286 10.8452 19.9286 9.96428ZM4.2625 4.42857L7.03036 2.21429H10.0307L9.20036 4.42857H4.2625ZM11.563 4.42857L12.3934 2.21429H16.3636L17.1009 4.42857H11.563ZM18.6974 2.21429H21.7531L24.521 4.42857H19.4348L18.6974 2.21429ZM16.6071 18.8214C16.6071 18.5278 16.7238 18.2462 16.9314 18.0386C17.139 17.8309 17.4207 17.7143 17.7143 17.7143H22.1429C22.4365 17.7143 22.7181 17.8309 22.9257 18.0386C23.1334 18.2462 23.25 18.5278 23.25 18.8214V23.25C23.25 23.5436 23.1334 23.8252 22.9257 24.0329C22.7181 24.2405 22.4365 24.3571 22.1429 24.3571H17.7143C17.4207 24.3571 17.139 24.2405 16.9314 24.0329C16.7238 23.8252 16.6071 23.5436 16.6071 23.25V18.8214ZM7.75 31H12.1786V19.9286H7.75V31Z" fill="#444444"/>
            </svg>            
            <span class="text-[#444444] mt-4 text-[1rem]">Explorar Loja</span>
          </div>

          <div card-options cliente class="flex flex-col items-center justify-center rounded-lg py-4 px-7 bg-white hover:bg-[#EEEEEE]">
            <svg width="36" height="32" class="w-9 h-8" viewBox="0 0 36 32" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M22.5377 3.52558C21.5351 3.52558 20.5736 3.92386 19.8646 4.63281C19.1557 5.34176 18.7574 6.3033 18.7574 7.30591C18.7574 8.30851 19.1557 9.27005 19.8646 9.979C20.5736 10.688 21.5351 11.0862 22.5377 11.0862C23.5403 11.0862 24.5019 10.688 25.2108 9.979C25.9198 9.27005 26.318 8.30851 26.318 7.30591C26.318 6.3033 25.9198 5.34176 25.2108 4.63281C24.5019 3.92386 23.5403 3.52558 22.5377 3.52558ZM15.7331 7.30591C15.7329 6.14769 16.0283 5.00859 16.5914 3.99646C17.1545 2.98433 17.9666 2.13268 18.9508 1.52215C19.9351 0.91162 21.0588 0.562422 22.2158 0.507622C23.3727 0.452822 24.5244 0.694233 25.562 1.209C26.5994 0.694846 27.7509 0.453924 28.9074 0.509029C30.064 0.564134 31.1873 0.913444 32.1712 1.5239C33.155 2.13436 33.9668 2.98577 34.5298 3.99756C35.0927 5.00935 35.3882 6.14805 35.3882 7.30591C35.3882 8.46376 35.0927 9.60246 34.5298 10.6143C33.9668 11.626 33.155 12.4775 32.1712 13.0879C31.1873 13.6984 30.064 14.0477 28.9074 14.1028C27.7509 14.1579 26.5994 13.917 25.562 13.4028C24.5244 13.9176 23.3727 14.159 22.2158 14.1042C21.0588 14.0494 19.9351 13.7002 18.9508 13.0897C17.9666 12.4791 17.1545 11.6275 16.5914 10.6154C16.0283 9.60323 15.7329 8.46412 15.7331 7.30591ZM28.2082 11.0681C28.7338 11.1209 29.2647 11.0629 29.7666 10.8978C30.2684 10.7328 30.7301 10.4645 31.1219 10.1101C31.5136 9.75566 31.8268 9.32308 32.0411 8.84022C32.2554 8.35736 32.3661 7.83494 32.3661 7.30666C32.3661 6.77838 32.2554 6.25597 32.0411 5.77311C31.8268 5.29025 31.5136 4.85766 31.1219 4.50326C30.7301 4.14885 30.2684 3.88049 29.7666 3.71548C29.2647 3.55047 28.7338 3.49248 28.2082 3.54524C28.9493 4.65928 29.344 5.96786 29.3423 7.30591C29.3443 8.64447 28.9496 9.95361 28.2082 11.0681ZM13.3666 19.0249C13.1184 19.0243 12.8724 19.0726 12.6428 19.167C12.4131 19.2614 12.2044 19.4002 12.0284 19.5753L8.92854 22.6752V28.4757H17.4373L26.2122 26.2831L31.553 24.0029C31.7349 23.9045 31.8742 23.7425 31.944 23.5479C32.0138 23.3532 32.0093 23.1397 31.9313 22.9482C31.8534 22.7566 31.7074 22.6006 31.5215 22.5101C31.3356 22.4195 31.1229 22.4008 30.924 22.4575L30.8937 22.465L21.198 24.6954H15.7331V21.6712H20.4585C20.8094 21.6712 21.146 21.5317 21.3941 21.2836C21.6422 21.0355 21.7816 20.6989 21.7816 20.348C21.7816 19.9971 21.6422 19.6606 21.3941 19.4125C21.146 19.1643 20.8094 19.0249 20.4585 19.0249H13.3666ZM24.7863 20.7669L30.1573 19.5315C30.7294 19.3811 31.3283 19.3637 31.9081 19.4808C32.4879 19.5979 33.0331 19.8463 33.502 20.207C33.9708 20.5676 34.3508 21.0309 34.6127 21.5613C34.8746 22.0916 35.0114 22.675 35.0128 23.2664C35.0127 23.9846 34.8126 24.6885 34.435 25.2993C34.0573 25.9101 33.517 26.4037 32.8746 26.7247L32.8338 26.7459L27.1784 29.1577L17.8093 31.5H0.611816V20.5371H6.79038L9.89328 17.4342C10.3504 16.9785 10.8929 16.6174 11.4896 16.3715C12.0864 16.1255 12.7257 15.9995 13.3712 16.0007H20.4585C21.0648 16.0006 21.6644 16.1273 22.2188 16.3727C22.7732 16.6181 23.2701 16.9768 23.6777 17.4256C24.0852 17.8745 24.3944 18.4036 24.5853 18.979C24.7762 19.5544 24.8447 20.1634 24.7863 20.7669ZM5.90427 23.5613H3.63608V28.4757H5.90427V23.5613Z" fill="#444444"/>
            </svg>
            <span class="text-[#444444] mt-4 text-[1rem]">Histórico de Transações</span>
          </div>
  
          <div card-options visitant onclick="window.location.replace('/login')" card-options class="flex flex-col items-center justify-center rounded-lg py-6 px-7 bg-[#F58220] hover:bg-[#D8711A]">
            <svg width="27" height="31" viewBox="0 0 27 31" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M3.85714 13.5625V9.6875C3.85714 7.11822 4.87308 4.65416 6.68147 2.8374C8.48986 1.02064 10.9426 0 13.5 0C16.0574 0 18.5101 1.02064 20.3185 2.8374C22.1269 4.65416 23.1429 7.11822 23.1429 9.6875V13.5625C24.1658 13.5625 25.1469 13.9708 25.8703 14.6975C26.5936 15.4242 27 16.4098 27 17.4375V27.125C27 28.1527 26.5936 29.1383 25.8703 29.865C25.1469 30.5917 24.1658 31 23.1429 31H3.85714C2.83417 31 1.85309 30.5917 1.12973 29.865C0.406376 29.1383 0 28.1527 0 27.125V17.4375C0 16.4098 0.406376 15.4242 1.12973 14.6975C1.85309 13.9708 2.83417 13.5625 3.85714 13.5625ZM19.2857 9.6875V13.5625H7.71429V9.6875C7.71429 8.14593 8.32385 6.6675 9.40888 5.57744C10.4939 4.48739 11.9655 3.875 13.5 3.875C15.0345 3.875 16.5061 4.48739 17.5911 5.57744C18.6762 6.6675 19.2857 8.14593 19.2857 9.6875Z" fill="white"/>
            </svg>
            <span class="text-white mt-4">Fazer Login</span>
          </div>
          <!-- VISITANTE END-->
          
          <div todos_acessos>
            <div card-options cliente funcionario gerente onclick="logout(tokenUser)" class="flex flex-col items-center justify-center rounded-lg py-6 px-7 bg-[#FFD1D1] hover:bg-[#FFADAD]">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19.8038 2.11458C18.0381 2.11458 16.6134 2.11458 15.4935 2.2657C14.331 2.4207 13.352 2.75654 12.5744 3.53283C11.8975 4.21095 11.554 5.04408 11.3744 6.02316C11.2 6.97512 11.1665 8.13891 11.1587 9.5365C11.1573 9.79342 11.2581 10.0404 11.4388 10.223C11.6195 10.4057 11.8654 10.509 12.1223 10.5104C12.3792 10.5118 12.6262 10.411 12.8088 10.2303C12.9915 10.0496 13.0948 9.80376 13.0962 9.54683C13.104 8.13504 13.1401 7.134 13.2796 6.3732C13.4152 5.64212 13.631 5.21716 13.9448 4.90329C14.3026 4.5455 14.8051 4.31299 15.7532 4.18512C16.7284 4.05466 18.0213 4.05208 19.8749 4.05208H21.1665C23.0214 4.05208 24.3143 4.05466 25.2895 4.18512C26.2376 4.31299 26.7388 4.54679 27.0979 4.90329C27.4544 5.26108 27.6869 5.76225 27.8147 6.71162C27.9465 7.68554 27.9478 8.97979 27.9478 10.8333V21.1667C27.9478 23.0202 27.9465 24.3132 27.8147 25.2897C27.6869 26.2377 27.4544 26.7389 27.0966 27.0967C26.7388 27.4545 26.2376 27.687 25.2895 27.8149C24.3143 27.9453 23.0214 27.9479 21.1665 27.9479H19.8749C18.0213 27.9479 16.7284 27.9453 15.7519 27.8149C14.8051 27.687 14.3026 27.4532 13.9448 27.0967C13.631 26.7815 13.4152 26.3579 13.2796 25.6268C13.1401 24.866 13.104 23.865 13.0962 22.4532C13.0955 22.3259 13.0698 22.2001 13.0205 22.0828C12.9712 21.9656 12.8992 21.8591 12.8088 21.7697C12.7184 21.6802 12.6112 21.6094 12.4934 21.5613C12.3756 21.5133 12.2495 21.4889 12.1223 21.4896C11.9951 21.4903 11.8692 21.516 11.752 21.5653C11.6347 21.6146 11.5283 21.6865 11.4388 21.777C11.3493 21.8674 11.2785 21.9746 11.2305 22.0924C11.1824 22.2102 11.158 22.3363 11.1587 22.4635C11.1665 23.8611 11.2 25.0249 11.3744 25.9768C11.5552 26.9559 11.8975 27.789 12.5757 28.4672C13.352 29.2447 14.3323 29.578 15.4948 29.7356C16.6134 29.8854 18.0381 29.8854 19.8038 29.8854H21.2376C23.0046 29.8854 24.428 29.8854 25.5479 29.7356C26.7104 29.578 27.6895 29.2447 28.467 28.4672C29.2446 27.6896 29.5779 26.7105 29.7355 25.548C29.8853 24.4281 29.8853 23.0034 29.8853 21.2377V10.7623C29.8853 8.99658 29.8853 7.57187 29.7355 6.45199C29.5792 5.28949 29.2446 4.31041 28.467 3.53283C27.6895 2.75525 26.7104 2.42199 25.5479 2.2657C24.428 2.11458 23.0033 2.11458 21.2376 2.11458H19.8038Z" fill="#FF3838"/>
                <path d="M19.8749 15.0312C20.1318 15.0312 20.3782 15.1333 20.5599 15.315C20.7416 15.4967 20.8437 15.7431 20.8437 16C20.8437 16.2569 20.7416 16.5033 20.5599 16.685C20.3782 16.8667 20.1318 16.9687 19.8749 16.9687H5.70145L8.23441 19.1387C8.42967 19.3059 8.55053 19.5438 8.57039 19.8001C8.59026 20.0564 8.5075 20.3101 8.34032 20.5053C8.17315 20.7006 7.93525 20.8215 7.67897 20.8413C7.42268 20.8612 7.16901 20.7784 6.97374 20.6112L2.45291 16.7362C2.34656 16.6453 2.26117 16.5324 2.20263 16.4053C2.14408 16.2782 2.11377 16.1399 2.11377 16C2.11377 15.8601 2.14408 15.7218 2.20263 15.5947C2.26117 15.4676 2.34656 15.3547 2.45291 15.2637L6.97374 11.3887C7.07043 11.306 7.18247 11.243 7.30347 11.2036C7.42447 11.1641 7.55207 11.1488 7.67897 11.1587C7.80587 11.1685 7.92959 11.2032 8.04306 11.2609C8.15654 11.3185 8.25755 11.398 8.34032 11.4947C8.4231 11.5913 8.48602 11.7034 8.5255 11.8244C8.56497 11.9454 8.58023 12.073 8.57039 12.1999C8.56056 12.3268 8.52582 12.4505 8.46818 12.564C8.41053 12.6775 8.33109 12.7785 8.23441 12.8612L5.70274 15.0312H19.8749Z" fill="#FF3838"/>
              </svg>
                
              <span class="text-[#FF3838] mt-4">Sair da Conta</span>
            </div>
          </div>
  
        </div>
      </div>
    </div>
  </section>
  <script defer>
    const visitant = document.querySelectorAll('[visitant]');
    const todosAcessos = document.querySelectorAll('[todos_acessos]');
    let tokenUser = {};
  
    init();

    function init() {

    const userToken = JSON.parse(localStorage.getItem('userToken'));
    let userInfo = {};

    console.warn('=> userLogged', userToken);

    console.warn("Iniciando...");
    if (userToken?.token) {
      getUserLogged(userToken.token);
      tokenUser = userToken.token;
    } else {
      visitant.forEach(element => {
        element.style.display = 'flex';
      });
    }

    // Função para pegar o usuário logado
    async function getUserLogged(token) {
      try {
        const response = await fetch(`/api/userInfo?token=${token}`);
        const data = await response.json();
        console.warn('=> data', data);

        if (data.status === 200) {
          userInfo = data.user;
          setUserInfo();
        } else {
          console.log(data.message)
          localStorage.removeItem('userToken');
          window.location.replace('/menu');
        }

        return data;
      } catch (error) {
        alert('Erro ao buscar usuário logado');
      }
    }


    // Função para setar as informações do usuário logado
    function setUserInfo() {
      const nomeUsuario = document.querySelector('[nome_usuario]');
      const creditosUsuario = document.querySelector('[creditos_usuario]');
      const cliente = document.querySelectorAll('[cliente]');
      const clienteUsuario = document.querySelector('[cliente_usuario]');
      const funcionario = document.querySelectorAll('[funcionario]');
      const funcionarioUsuario = document.querySelector('[funcionario_usuario]');
      const gerente = document.querySelectorAll('[gerente]');
      const gerenteUsuario = document.querySelector('[gerente_usuario]');

      visitant.forEach(element => {
        element.style.display = 'none';
      });

      todosAcessos.forEach(element => {
        element.style.display = 'block';
      });

      // Verifica o nivel de acesso
      if (userInfo.nivel_acesso === 'cliente') {
        cliente.forEach(element => {
          element.style.display = 'flex';
        });
        clienteUsuario.innerHTML = `Seja Bem-vindo(a) Cliente \b <span class="bold text-[#F58220]">${userInfo.nome}</span>\b ao Convenience Swap`;
      }

      if (userInfo.nivel_acesso === 'funcionario') {
        funcionario.forEach(element => {
          element.style.display = 'flex';
        });
        funcionarioUsuario.innerHTML = `Seja Bem-vindo(a) Colaborador(a) \b <span class="bold text-[#F58220]">${userInfo.nome}</span>\b ao Convenience Swap`;
      }

      if (userInfo.nivel_acesso === 'gerente') {
        gerente.forEach(element => {
          element.style.display = 'flex';
        });
        gerenteUsuario.innerHTML = `Seja Bem-vindo(a) Gerente \b <span class="bold text-[#F58220]">${userInfo.nome}</span>\b ao Convenience Swap`;
      }

      nomeUsuario.innerHTML = userInfo.nome;
      creditosUsuario.innerHTML = `${userInfo.creditos} Ecoins`;
    }
  }

  // Função para deslogar o usuário
  async function logout(token) {
      try {
        const response = await fetch(`/api/logout?token=${token}`);
        const data = await response.json();
        console.warn('=> data', data);

        if (data.status === 200) {
          localStorage.removeItem('userToken');
          alert('Sucesso:Usuário deslogado com sucesso');
          window.location.replace('/menu');
        } else {
          console.log(data.message)
        }

        return data;
      } catch (error) {
        alert('Erro ao buscar usuário logado');
      }
    }

        //Função para navegar o usuario para /itens_cadastrados
    function navigateToItensCadastrados() {
      window.location.replace('/itens_cadastrados');
    }

  </script>
{% endblock %}